(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(237)},126:function(e,t,a){},212:function(e,t){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(116),o=a.n(l),c=(a(126),a(242)),i=a(240),s=a(241),m=a(2),d=a(3),u=a(9),v=a(7),p=a(10),f=a(239),h=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={menuExpanded:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleClick",value:function(e){this.setState({menuExpanded:!this.state.menuExpanded})}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"row col-12"},n.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-white",id:"navbar"},n.createElement("a",{className:"navbar-brand",href:"/"},"ESPIOT"),n.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(t){return e.handleClick(t)}},n.createElement("span",{className:"navbar-toggler-icon"})),n.createElement("div",{className:this.state.menuExpanded?"collapse.expand navbar-collapse":"collapse navbar-collapse",id:"navbarSupportedContent"},n.createElement("ul",{className:"navbar-nav mr-auto"},n.createElement("li",{className:"nav-item"},n.createElement(f.a,{className:"nav-link",to:"/devices",onClick:function(t){return e.handleClick(t)}},"Devices")),n.createElement("li",{className:"nav-item"},n.createElement(f.a,{className:"nav-link",to:"/deviceactions",onClick:function(t){return e.handleClick(t)}},"DeviceActions"))))))}}]),t}(n.Component),b=function(e){return n.createElement(h,null)},E=a(13),g=a(5),N=a.n(g),y=function e(){Object(m.a)(this,e)};y.ApiHealthEndpoint=(y.ApiEndpoint=(y.BaseEndpoint="http://localhost:8000/")+"api/")+"apiHealth",y.SwaggerEndpoint=y.BaseEndpoint+"swagger";var O=function e(){Object(m.a)(this,e)};O.Devices="/devices",O.DeviceActions="/deviceactions";var A=function e(){Object(m.a)(this,e)};A.Devices="devices",A.DeviceActions="deviceactions";var S=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={connected:!1,connecting:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"testConnection",value:function(){var e=this;this.setState(Object(E.a)({},this.state,{connecting:!0})),N.a.get(y.ApiHealthEndpoint,{headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),e.setState({connecting:!1,connected:!0})},function(t){console.log(t),e.setState({connecting:!1,connected:!1})})}},{key:"componentDidMount",value:function(){this.testConnection()}},{key:"render",value:function(){var e=this,t=n.createElement("div",null);return t=this.state.connecting?n.createElement("div",null,n.createElement("div",{className:"alert alert-primary"},"Connecting...")):this.state.connected?n.createElement("div",null,n.createElement("div",{className:"alert alert-success"},"Connected...")):n.createElement("div",null,n.createElement("div",{className:"alert alert-danger"},"Unable to connect to API...  ",n.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.testConnection()}},"Test Connection"))),n.createElement("div",null,t,n.createElement("div",null,"API Health Endpoint : ",n.createElement("a",{target:"_blank",href:y.ApiHealthEndpoint},y.ApiHealthEndpoint)),n.createElement("div",null,"Swagger Endpoint : ",n.createElement("a",{target:"_blank",href:y.SwaggerEndpoint},y.SwaggerEndpoint)))}}]),t}(n.Component),w=a(82),C=a(6),j=function(){return n.createElement("div",null,"loading...")},k=function(e){return n.createElement("div",{className:"alert alert-danger"},e.message)},I=function(){function e(){Object(m.a)(this,e),this.dateOfLastPing=void 0,this.id=0,this.isActive=!1,this.name="",this.publicId=void 0}return Object(d.a)(e,[{key:"setProperties",value:function(e,t,a,n,r){this.dateOfLastPing=e,this.id=t,this.isActive=a,this.name=n,this.publicId=r}}]),e}(),P=function(){function e(){Object(m.a)(this,e),this.action="",this.deviceId=0,this.deviceIdEntity="",this.deviceIdNavigation=void 0,this.id=0,this.name=""}return Object(d.a)(e,[{key:"setProperties",value:function(e,t,a,n){this.action=e,this.deviceId=t,this.id=a,this.name=n}}]),e}(),R=function(){function e(){Object(m.a)(this,e),this.dateOfLastPing=void 0,this.id=0,this.isActive=!1,this.name="",this.publicId=void 0}return Object(d.a)(e,[{key:"setProperties",value:function(e,t,a,n,r){this.dateOfLastPing=e,this.id=t,this.isActive=a,this.name=n,this.publicId=r}},{key:"toDisplay",value:function(){return String(this.name)}}]),e}(),D=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"mapApiResponseToViewModel",value:function(e){var t=new R;return t.setProperties(e.dateOfLastPing,e.id,e.isActive,e.name,e.publicId),t}},{key:"mapViewModelToApiRequest",value:function(e){var t=new I;return t.setProperties(e.dateOfLastPing,e.id,e.isActive,e.name,e.publicId),t}}]),e}(),M=Object(C.b)({mapPropsToValues:function(e){var t=new R;return void 0!=e.model&&t.setProperties(e.model.dateOfLastPing,e.model.id,e.model.isActive,e.model.name,e.model.publicId),t},validate:function(e){var t={};return void 0==e.dateOfLastPing&&(t.dateOfLastPing="Required"),""==e.name&&(t.name="Required"),void 0==e.publicId&&(t.publicId="Required"),t},handleSubmit:function(e,t){t.setStatus(void 0);var a=new D;N.a.post(y.ApiEndpoint+A.Devices,a.mapViewModelToApiRequest(e),{headers:{"Content-Type":"application/json"}}).then(function(e){var a=e.data;t.setStatus(a),console.log(a)},function(e){console.log(e),t.setStatus("Error from API")})},displayName:"DeviceCreate"})(function(e){var t=e.status,a=function(a){var n="";return e.touched[a]&&e.errors[a]&&(n+=e.errors[a]),t&&t.validationErrors&&t.validationErrors.find(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})&&(n+=t.validationErrors.filter(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})[0].errorMessage),n},n=function(e){return""!=a(e)};return r.a.createElement("form",{onSubmit:e.handleSubmit,role:"form"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("name")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"name",className:n("name")?"form-control is-invalid":"form-control"}),n("name")&&r.a.createElement("small",{className:"text-danger"},a("name")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("publicId")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Public Id"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"publicId",className:n("publicId")?"form-control is-invalid":"form-control"}),n("publicId")&&r.a.createElement("small",{className:"text-danger"},a("publicId")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("dateOfLastPing")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Last Ping"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"datetime-local",name:"dateOfLastPing",className:n("dateOfLastPing")?"form-control is-invalid":"form-control"}),n("dateOfLastPing")&&r.a.createElement("small",{className:"text-danger"},a("dateOfLastPing")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("isActive")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Active"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"checkbox",checked:e.values.isActive,name:"isActive",className:n("isActive")?"form-control is-invalid":"form-control"}),n("isActive")&&r.a.createElement("small",{className:"text-danger"},a("isActive")))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!1},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null),t&&t.success?r.a.createElement("div",{className:"alert alert-success"},"Success"):null,t&&!t.success?r.a.createElement("div",{className:"alert alert-danger"},"Error occurred"):null)}),L=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={model:void 0,loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.loading?r.a.createElement(j,null):this.state.errorOccurred?r.a.createElement(k,{message:this.state.errorMessage}):this.state.loaded?r.a.createElement(M,{model:this.state.model}):null}}]),t}(r.a.Component),x=function(e){return r.a.createElement("form",{role:"form"},r.a.createElement("button",{className:"btn btn-primary btn-sm align-middle float-right vertically-center",onClick:function(t){e.history.push(O.Devices+"/edit/"+e.model.id)}},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-12"},String(e.model.name))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"publicId",className:"col-sm-2 col-form-label"},"Public Id"),r.a.createElement("div",{className:"col-sm-12"},String(e.model.publicId))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"dateOfLastPing",className:"col-sm-2 col-form-label"},"Last Ping"),r.a.createElement("div",{className:"col-sm-12"},String(e.model.dateOfLastPing))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"isActive",className:"col-sm-2 col-form-label"},"Active"),r.a.createElement("div",{className:"col-sm-12"},String(e.model.isActive))))},T=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={model:void 0,loading:!1,loaded:!1,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(E.a)({},this.state,{loading:!0})),N.a.get(y.ApiEndpoint+A.Devices+"/"+this.props.match.params.id,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data,n=new D;console.log(a),e.setState({model:n.mapApiResponseToViewModel(a),loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""})},function(t){console.log(t),e.setState({model:void 0,loading:!1,loaded:!1,errorOccurred:!0,errorMessage:"Error from API"})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(j,null):this.state.errorOccurred?r.a.createElement(k,{message:this.state.errorMessage}):this.state.loaded?r.a.createElement(x,{history:this.props.history,model:this.state.model}):null}}]),t}(r.a.Component),V=Object(C.b)({mapPropsToValues:function(e){var t=new R;return t.setProperties(e.model.dateOfLastPing,e.model.id,e.model.isActive,e.model.name,e.model.publicId),t},validate:function(e){var t={};return void 0==e.dateOfLastPing&&(t.dateOfLastPing="Required"),0==e.id&&(t.id="Required"),""==e.name&&(t.name="Required"),void 0==e.publicId&&(t.publicId="Required"),t},handleSubmit:function(e,t){t.setStatus(void 0);var a=new D;N.a.put(y.ApiEndpoint+A.Devices+"/"+e.id,a.mapViewModelToApiRequest(e),{headers:{"Content-Type":"application/json"}}).then(function(e){var a=e.data;t.setStatus(a),console.log(a)},function(e){console.log(e),t.setStatus("Error from API")}).then(function(e){})},displayName:"DeviceEdit"})(function(e){var t=e.status,a=function(a){var n="";return e.touched[a]&&e.errors[a]&&(n+=e.errors[a]),t&&t.validationErrors&&t.validationErrors.find(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})&&(n+=t.validationErrors.filter(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})[0].errorMessage),n},n=function(e){return""!=a(e)};return r.a.createElement("form",{onSubmit:e.handleSubmit,role:"form"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("name")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"name",className:n("name")?"form-control is-invalid":"form-control"}),n("name")&&r.a.createElement("small",{className:"text-danger"},a("name")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("publicId")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Public Id"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"publicId",className:n("publicId")?"form-control is-invalid":"form-control"}),n("publicId")&&r.a.createElement("small",{className:"text-danger"},a("publicId")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("dateOfLastPing")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Last Ping"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"datetime-local",name:"dateOfLastPing",className:n("dateOfLastPing")?"form-control is-invalid":"form-control"}),n("dateOfLastPing")&&r.a.createElement("small",{className:"text-danger"},a("dateOfLastPing")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("isActive")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Active"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"checkbox",checked:e.values.isActive,name:"isActive",className:n("isActive")?"form-control is-invalid":"form-control"}),n("isActive")&&r.a.createElement("small",{className:"text-danger"},a("isActive")))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!1},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null),t&&t.success?r.a.createElement("div",{className:"alert alert-success"},"Success"):null,t&&!t.success?r.a.createElement("div",{className:"alert alert-danger"},"Error occurred"):null)}),q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={model:void 0,loading:!1,loaded:!1,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(E.a)({},this.state,{loading:!0})),N.a.get(y.ApiEndpoint+A.Devices+"/"+this.props.match.params.id,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data;console.log(a);var n=new D;e.setState({model:n.mapApiResponseToViewModel(a),loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""})},function(t){console.log(t),e.setState({model:void 0,loading:!1,loaded:!1,errorOccurred:!0,errorMessage:"Error from API"})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(j,null):this.state.errorOccurred?r.a.createElement(k,{message:this.state.errorMessage}):this.state.loaded?r.a.createElement(V,{model:this.state.model}):null}}]),t}(r.a.Component),F=a(60),H=(a(115),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={deleteSubmitted:!1,deleteSuccess:!1,deleteResponse:"",records:new Array,filteredRecords:new Array,searchValue:"",loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadRecords()}},{key:"handleEditClick",value:function(e,t){this.props.history.push(O.Devices+"/edit/"+t.id)}},{key:"handleDetailClick",value:function(e,t){this.props.history.push(O.Devices+"/"+t.id)}},{key:"handleCreateClick",value:function(e){this.props.history.push(O.Devices+"/create")}},{key:"handleDeleteClick",value:function(e,t){var a=this;N.a.delete(y.ApiEndpoint+A.Devices+"/"+t.id,{headers:{"Content-Type":"application/json"}}).then(function(e){a.setState(Object(E.a)({},a.state,{deleteResponse:"Record deleted",deleteSuccess:!0,deleteSubmitted:!0})),a.loadRecords(a.state.searchValue)},function(e){console.log(e),a.setState(Object(E.a)({},a.state,{deleteResponse:"Error deleting record",deleteSuccess:!1,deleteSubmitted:!0}))})}},{key:"handleSearchChanged",value:function(e){this.loadRecords(e.currentTarget.value)}},{key:"loadRecords",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState(Object(E.a)({},this.state,{searchValue:t}));var a=y.ApiEndpoint+A.Devices+"?limit=100";t&&(a+="&query="+t),N.a.get(a,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data,n=[],r=new D;a.forEach(function(e){n.push(r.mapApiResponseToViewModel(e))}),e.setState({records:n,filteredRecords:n,loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""})},function(t){console.log(t),e.setState({records:new Array,filteredRecords:new Array,loading:!1,loaded:!1,errorOccurred:!0,errorMessage:"Error from API"})})}},{key:"filterGrid",value:function(){}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement(j,null);if(this.state.errorOccurred)return r.a.createElement(k,{message:this.state.errorMessage});if(this.state.loaded){var t=r.a.createElement("span",null);return this.state.deleteSubmitted&&(t=this.state.deleteSuccess?r.a.createElement("div",{className:"alert alert-success"},this.state.deleteResponse):r.a.createElement("div",{className:"alert alert-danger"},this.state.deleteResponse)),r.a.createElement("div",null,t,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"}),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{name:"search",className:"form-control",placeholder:"Search",value:this.state.searchValue,onChange:function(t){return e.handleSearchChanged(t)}})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("button",{className:"btn btn-primary btn-sm align-middle float-right vertically-center search-create-button",onClick:function(t){return e.handleCreateClick(t)}},r.a.createElement("i",{className:"fas fa-plus"}))))),r.a.createElement(F.a,{data:this.state.filteredRecords,columns:[{Header:"Device",columns:[{Header:"Name",accessor:"name",Cell:function(e){return r.a.createElement("span",null,String(e.original.name))}},{Header:"Public Id",accessor:"publicId",Cell:function(e){return r.a.createElement("span",null,String(e.original.publicId))}},{Header:"Last Ping",accessor:"dateOfLastPing",Cell:function(e){return r.a.createElement("span",null,String(e.original.dateOfLastPing))}},{Header:"Active",accessor:"isActive",Cell:function(e){return r.a.createElement("span",null,String(e.original.isActive))}},{Header:"Actions",Cell:function(t){return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm",onClick:function(a){e.handleDetailClick(a,t.original)}},r.a.createElement("i",{className:"fas fa-search"})),"\xa0",r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(a){e.handleEditClick(a,t.original)}},r.a.createElement("i",{className:"fas fa-edit"})),"\xa0",r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(a){e.handleDeleteClick(a,t.original)}},r.a.createElement("i",{className:"far fa-trash-alt"})))}}]}]}))}return null}}]),t}(r.a.Component)),_=function(){function e(){Object(m.a)(this,e),this.action="",this.deviceId=0,this.deviceIdEntity="",this.deviceIdNavigation=void 0,this.id=0,this.name=""}return Object(d.a)(e,[{key:"setProperties",value:function(e,t,a,n){this.action=e,this.deviceId=t,this.id=a,this.name=n}},{key:"toDisplay",value:function(){return String(this.name)}}]),e}(),U=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"mapApiResponseToViewModel",value:function(e){var t=new _;return t.setProperties(e.action,e.deviceId,e.id,e.name),null!=e.deviceIdNavigation&&(t.deviceIdNavigation=new R,t.deviceIdNavigation.setProperties(e.deviceIdNavigation.dateOfLastPing,e.deviceIdNavigation.id,e.deviceIdNavigation.isActive,e.deviceIdNavigation.name,e.deviceIdNavigation.publicId)),t}},{key:"mapViewModelToApiRequest",value:function(e){var t=new P;return t.setProperties(e.action,e.deviceId,e.id,e.name),t}}]),e}(),B=Object(C.b)({mapPropsToValues:function(e){var t=new _;return void 0!=e.model&&t.setProperties(e.model.action,e.model.deviceId,e.model.id,e.model.name),t},validate:function(e){var t={};return""==e.action&&(t.action="Required"),0==e.deviceId&&(t.deviceId="Required"),""==e.name&&(t.name="Required"),t},handleSubmit:function(e,t){t.setStatus(void 0);var a=new U;N.a.post(y.ApiEndpoint+A.DeviceActions,a.mapViewModelToApiRequest(e),{headers:{"Content-Type":"application/json"}}).then(function(e){var a=e.data;t.setStatus(a),console.log(a)},function(e){console.log(e),t.setStatus("Error from API")})},displayName:"DeviceActionCreate"})(function(e){var t=e.status,a=function(a){var n="";return e.touched[a]&&e.errors[a]&&(n+=e.errors[a]),t&&t.validationErrors&&t.validationErrors.find(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})&&(n+=t.validationErrors.filter(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})[0].errorMessage),n},n=function(e){return""!=a(e)};return r.a.createElement("form",{onSubmit:e.handleSubmit,role:"form"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("action")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Action"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"action",className:n("action")?"form-control is-invalid":"form-control"}),n("action")&&r.a.createElement("small",{className:"text-danger"},a("action")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("deviceId")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Device"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"select",name:"deviceId",className:n("deviceId")?"form-control is-invalid":"form-control"}),n("deviceId")&&r.a.createElement("small",{className:"text-danger"},a("deviceId")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("name")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"name",className:n("name")?"form-control is-invalid":"form-control"}),n("name")&&r.a.createElement("small",{className:"text-danger"},a("name")))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!1},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null),t&&t.success?r.a.createElement("div",{className:"alert alert-success"},"Success"):null,t&&!t.success?r.a.createElement("div",{className:"alert alert-danger"},"Error occurred"):null)}),G=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={model:void 0,loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.loading?r.a.createElement(j,null):this.state.errorOccurred?r.a.createElement(k,{message:this.state.errorMessage}):this.state.loaded?r.a.createElement(B,{model:this.state.model}):null}}]),t}(r.a.Component),J=function(e){return r.a.createElement("form",{role:"form"},r.a.createElement("button",{className:"btn btn-primary btn-sm align-middle float-right vertically-center",onClick:function(t){e.history.push(O.DeviceActions+"/edit/"+e.model.id)}},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"action",className:"col-sm-2 col-form-label"},"Action"),r.a.createElement("div",{className:"col-sm-12"},String(e.model.action))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"deviceId",className:"col-sm-2 col-form-label"},"Device"),r.a.createElement("div",{className:"col-sm-12"},e.model.deviceIdNavigation.toDisplay())),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-12"},String(e.model.name))))},z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={model:void 0,loading:!1,loaded:!1,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(E.a)({},this.state,{loading:!0})),N.a.get(y.ApiEndpoint+A.DeviceActions+"/"+this.props.match.params.id,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data,n=new U;console.log(a),e.setState({model:n.mapApiResponseToViewModel(a),loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""})},function(t){console.log(t),e.setState({model:void 0,loading:!1,loaded:!1,errorOccurred:!0,errorMessage:"Error from API"})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(j,null):this.state.errorOccurred?r.a.createElement(k,{message:this.state.errorMessage}):this.state.loaded?r.a.createElement(J,{history:this.props.history,model:this.state.model}):null}}]),t}(r.a.Component),K=Object(C.b)({mapPropsToValues:function(e){var t=new _;return t.setProperties(e.model.action,e.model.deviceId,e.model.id,e.model.name),t},validate:function(e){var t={};return""==e.action&&(t.action="Required"),0==e.deviceId&&(t.deviceId="Required"),0==e.id&&(t.id="Required"),""==e.name&&(t.name="Required"),t},handleSubmit:function(e,t){t.setStatus(void 0);var a=new U;N.a.put(y.ApiEndpoint+A.DeviceActions+"/"+e.id,a.mapViewModelToApiRequest(e),{headers:{"Content-Type":"application/json"}}).then(function(e){var a=e.data;t.setStatus(a),console.log(a)},function(e){console.log(e),t.setStatus("Error from API")}).then(function(e){})},displayName:"DeviceActionEdit"})(function(e){var t=e.status,a=function(a){var n="";return e.touched[a]&&e.errors[a]&&(n+=e.errors[a]),t&&t.validationErrors&&t.validationErrors.find(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})&&(n+=t.validationErrors.filter(function(e){return e.propertyName.toLowerCase()==a.toLowerCase()})[0].errorMessage),n},n=function(e){return""!=a(e)};return r.a.createElement("form",{onSubmit:e.handleSubmit,role:"form"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("action")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Action"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"action",className:n("action")?"form-control is-invalid":"form-control"}),n("action")&&r.a.createElement("small",{className:"text-danger"},a("action")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("deviceId")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Device"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"select",name:"deviceId",className:n("deviceId")?"form-control is-invalid":"form-control"}),n("deviceId")&&r.a.createElement("small",{className:"text-danger"},a("deviceId")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"name",className:n("name")?"col-sm-2 col-form-label is-invalid":"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(C.a,{type:"textbox",name:"name",className:n("name")?"form-control is-invalid":"form-control"}),n("name")&&r.a.createElement("small",{className:"text-danger"},a("name")))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!1},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null),t&&t.success?r.a.createElement("div",{className:"alert alert-success"},"Success"):null,t&&!t.success?r.a.createElement("div",{className:"alert alert-danger"},"Error occurred"):null)}),Q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={model:void 0,loading:!1,loaded:!1,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(E.a)({},this.state,{loading:!0})),N.a.get(y.ApiEndpoint+A.DeviceActions+"/"+this.props.match.params.id,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data;console.log(a);var n=new U;e.setState({model:n.mapApiResponseToViewModel(a),loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""})},function(t){console.log(t),e.setState({model:void 0,loading:!1,loaded:!1,errorOccurred:!0,errorMessage:"Error from API"})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(j,null):this.state.errorOccurred?r.a.createElement(k,{message:this.state.errorMessage}):this.state.loaded?r.a.createElement(K,{model:this.state.model}):null}}]),t}(r.a.Component),W=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={deleteSubmitted:!1,deleteSuccess:!1,deleteResponse:"",records:new Array,filteredRecords:new Array,searchValue:"",loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadRecords()}},{key:"handleEditClick",value:function(e,t){this.props.history.push(O.DeviceActions+"/edit/"+t.id)}},{key:"handleDetailClick",value:function(e,t){this.props.history.push(O.DeviceActions+"/"+t.id)}},{key:"handleCreateClick",value:function(e){this.props.history.push(O.DeviceActions+"/create")}},{key:"handleDeleteClick",value:function(e,t){var a=this;N.a.delete(y.ApiEndpoint+A.DeviceActions+"/"+t.id,{headers:{"Content-Type":"application/json"}}).then(function(e){a.setState(Object(E.a)({},a.state,{deleteResponse:"Record deleted",deleteSuccess:!0,deleteSubmitted:!0})),a.loadRecords(a.state.searchValue)},function(e){console.log(e),a.setState(Object(E.a)({},a.state,{deleteResponse:"Error deleting record",deleteSuccess:!1,deleteSubmitted:!0}))})}},{key:"handleSearchChanged",value:function(e){this.loadRecords(e.currentTarget.value)}},{key:"loadRecords",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState(Object(E.a)({},this.state,{searchValue:t}));var a=y.ApiEndpoint+A.DeviceActions+"?limit=100";t&&(a+="&query="+t),N.a.get(a,{headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data,n=[],r=new U;a.forEach(function(e){n.push(r.mapApiResponseToViewModel(e))}),e.setState({records:n,filteredRecords:n,loading:!1,loaded:!0,errorOccurred:!1,errorMessage:""})},function(t){console.log(t),e.setState({records:new Array,filteredRecords:new Array,loading:!1,loaded:!1,errorOccurred:!0,errorMessage:"Error from API"})})}},{key:"filterGrid",value:function(){}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement(j,null);if(this.state.errorOccurred)return r.a.createElement(k,{message:this.state.errorMessage});if(this.state.loaded){var t=r.a.createElement("span",null);return this.state.deleteSubmitted&&(t=this.state.deleteSuccess?r.a.createElement("div",{className:"alert alert-success"},this.state.deleteResponse):r.a.createElement("div",{className:"alert alert-danger"},this.state.deleteResponse)),r.a.createElement("div",null,t,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"}),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{name:"search",className:"form-control",placeholder:"Search",value:this.state.searchValue,onChange:function(t){return e.handleSearchChanged(t)}})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("button",{className:"btn btn-primary btn-sm align-middle float-right vertically-center search-create-button",onClick:function(t){return e.handleCreateClick(t)}},r.a.createElement("i",{className:"fas fa-plus"}))))),r.a.createElement(F.a,{data:this.state.filteredRecords,columns:[{Header:"DeviceAction",columns:[{Header:"Action",accessor:"action",Cell:function(e){return r.a.createElement("span",null,String(e.original.action))}},{Header:"Device",accessor:"deviceId",Cell:function(t){return r.a.createElement("a",{href:"",onClick:function(a){a.preventDefault(),e.props.history.push(O.Devices+"/"+t.original.deviceId)}},String(t.original.deviceIdNavigation.toDisplay()))}},{Header:"Name",accessor:"name",Cell:function(e){return r.a.createElement("span",null,String(e.original.name))}},{Header:"Actions",Cell:function(t){return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm",onClick:function(a){e.handleDetailClick(a,t.original)}},r.a.createElement("i",{className:"fas fa-search"})),"\xa0",r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(a){e.handleEditClick(a,t.original)}},r.a.createElement("i",{className:"fas fa-edit"})),"\xa0",r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(a){e.handleDeleteClick(a,t.original)}},r.a.createElement("i",{className:"far fa-trash-alt"})))}}]}]}))}return null}}]),t}(r.a.Component),X={clientId:"<okta_client_id>",issuer:"https://<okta_application_url>/oauth2/default",redirectUri:"https://<your_public_webserver>/implicit/callback",scope:"openid profile email"};o.a.render(r.a.createElement(function(){new URLSearchParams(location.search);return n.createElement(c.a,null,n.createElement(w.Security,{issuer:X.issuer,client_id:X.clientId,redirect_uri:X.redirectUri},n.createElement("div",{className:"container-fluid"},n.createElement(i.a,{component:b}),n.createElement(w.SecureRoute,{path:"/protected",component:function(){return"<div>secure route</div>"}}),n.createElement(s.a,null,n.createElement(i.a,{exact:!0,path:"/",component:S}),n.createElement(i.a,{path:"/devices/create",component:L}),n.createElement(i.a,{path:"/devices/edit/:id",component:q}),n.createElement(i.a,{path:"/devices/:id",component:T}),n.createElement(i.a,{path:"/devices",component:H}),n.createElement(i.a,{path:"/deviceactions/create",component:G}),n.createElement(i.a,{path:"/deviceactions/edit/:id",component:Q}),n.createElement(i.a,{path:"/deviceactions/:id",component:z}),n.createElement(i.a,{path:"/deviceactions",component:W})))))},null),document.getElementById("root"))}},[[121,2,1]]]);
//# sourceMappingURL=main.65d4578f.chunk.js.map